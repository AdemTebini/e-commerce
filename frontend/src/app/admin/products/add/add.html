<section class="add-product">
	<div class="page-header">
		<h1>Ajouter un Produit</h1>
		<p class="subtitle">Remplissez les informations du nouveau produit</p>
	</div>

	<form class="product-form">
		<div class="form-grid">
			<div class="form-group">
				<label for="title">
					<span class="label-text">Titre du produit</span>
					<span class="required">*</span>
				</label>
				<input 
					id="title"
					type="text"
					[(ngModel)]="title" 
					name="title"
					placeholder="Ex: T-shirt Premium"
					required
				>
			</div>

			<div class="form-group form-group--full">
				<label for="description">
					<span class="label-text">Description</span>
				</label>
				<textarea 
					id="description"
					[(ngModel)]="description" 
					name="description"
					placeholder="DÃ©crivez votre produit en dÃ©tail..."
					rows="5"
				></textarea>
			</div>

			<div class="form-group">
				<label for="price">
					<span class="label-text">Prix (DT)</span>
					<span class="required">*</span>
				</label>
				<input 
					id="price"
					type="number" 
					[(ngModel)]="price" 
					name="price"
					placeholder="0.00"
					min="0"
					step="0.01"
					required
				>
			</div>

			<div class="form-group">
				<label for="stock">
					<span class="label-text">Stock</span>
					<span class="required">*</span>
				</label>
				<input 
					id="stock"
					type="number" 
					[(ngModel)]="stock" 
					name="stock"
					placeholder="0"
					min="0"
					required
				>
			</div>

			<div class="form-group form-group--full">
				<label for="images">
					<span class="label-text">Images du produit</span>
					<span class="image-count" *ngIf="imagePreviews.length > 0">({{ imagePreviews.length }} image(s))</span>
				</label>
				<div class="file-input-wrapper">
					<input 
						id="images"
						type="file" 
						(change)="onFileChange($event)"
						accept="image/*"
						class="file-input"
						multiple
					>
					<label for="images" class="file-label">
						<span class="file-icon">ðŸ“·</span>
						<span class="file-text">Choisir des images</span>
					</label>
				</div>
				<div *ngIf="imagePreviews.length > 0" class="images-preview-grid">
					<div *ngFor="let preview of imagePreviews; let i = index" class="image-preview-item">
						<img [src]="preview" alt="AperÃ§u {{ i + 1 }}">
						<button type="button" class="btn-remove-image" (click)="removeImage(i)" title="Supprimer">
							âœ•
						</button>
						<div class="image-number">{{ i + 1 }}</div>
					</div>
				</div>
			</div>
		</div>

		<div *ngIf="msg" class="message message--success">
			<span class="message-icon">âœ“</span>
			{{ msg }}
		</div>

		<div *ngIf="err" class="message message--error">
			<span class="message-icon">âš </span>
			{{ err }}
		</div>

		<div class="form-actions">
			<button type="button" class="btn btn--secondary" (click)="resetForm()">
				<span class="btn-icon">ðŸ”„</span>
				RÃ©initialiser
			</button>
			<button type="button" class="btn btn--primary" (click)="addProduct()">
				<span class="btn-icon">âž•</span>
				Ajouter le produit
			</button>
		</div>
	</form>
</section>
