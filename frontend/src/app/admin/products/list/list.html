<section>
  <h1>Products</h1>
  <button type="button" (click)="goAdd()">Add product</button>

  <p *ngIf="loading">Loadingâ€¦</p>
  <p *ngIf="err">{{ err }}</p>

  <table *ngIf="products.length; else noProducts">
    <thead>
    <tr>
      <th>ID</th>
      <th>Title</th>
      <th>Price</th>
      <th>Stock</th>
      <th>Image</th>
      <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let p of products">
      <td>{{ p.id }}</td>
      <td>{{ p.title }}</td>
      <td>{{ p.price }}</td>
      <td>{{ p.stock }}</td>
      <td>
        <img *ngIf="imageUrl(p.main_image) as imgSrc" [src]="imgSrc" alt="Product image" width="60">
      </td>
      <td>
        <button type="button" (click)="goEdit(p.id)">Edit</button>
        <button type="button" (click)="deleteProduct(p.id)">Delete</button>
      </td>
    </tr>
    </tbody>
  </table>

  <ng-template #noProducts>
    <p>No products yet.</p>
  </ng-template>
</section>
